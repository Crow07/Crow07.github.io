<div class="panel-group">
  <div id="panel-update" class="post">
    {% capture posts %}
    {% for post in site.posts %}
      {{ post.last_modified_at }}#{{ post.title }}#{{ post.url }}
      {% if forloop.last == false %}|{% endif %}
    {% endfor %}
    {% endcapture %}

    <h3 data-toc-skip>Recent Update</h3>
    <ul class="post-content pl-2 mt-2 mb-4">
    {% assign MAX_SIZE = 5 %}
    {% assign sum = 0 %}
    {% assign sorted_posts = posts | split: "|" | sort | reverse %}
    {% for post in sorted_posts %}
      {% assign meta = post | split: "#" %}
      <li type="circle"><a href="{{ meta[2] }}">{{ meta[1] }}</a></li>
      {% assign sum = sum | plus: 1 %}
      {% if sum >= MAX_SIZE %}
        {% break %}
      {% endif %}
    {% endfor %}
    </ul>
  </div><!-- #panel-update -->

  <div id="panel-tags" class="post">
    <h3 data-toc-skip>Trending Tags</h3>
    <div class="post-content d-flex flex-wrap mt-2 mb-4">
      {% capture temp %}
        {% for tag in site.tags %}
          {{ tag | last | size }}#{{ tag | first }}
        {% endfor %}
      {% endcapture %}

      {% assign MAX = 10 %}
      {% assign count = 0 %}
      {% assign trends = temp | split: " " | sort | reverse %}

      <div class="font-weight-light">
      {% for trend in trends %}
        {% assign count = count | plus: 1 %}
        {% assign detail = trend | split: "#" %}
        <a class="post-tag" href="/tags/{{detail[1]}}/">{{ detail[1] }}</a>
        {% if count >= MAX %}
          {% break %}
        {% endif %}
      {% endfor %}
      </div>

    </div>
  </div><!-- #panel-tags -->

</div>